<h1 class="text-3xl font-bold mb-4">Teams</h1>

<div class="mb-4">
  <%= form_with url: teams_path, method: :get, local: true do %>
    <div class="flex items-center">
      <%= select_tag :search_by, options_for_select([['All Fields', 'all'], ['Team Name', 'name'], ['City', 'city']], params[:search_by]), class: "p-2 border border-gray-300 rounded" %>
      <%= text_field_tag :search, params[:search], placeholder: "Search...", class: "p-2 border border-gray-300 rounded ml-2" %>
      <%= submit_tag "Search", class: "ml-2 p-2 bg-blue-500 text-white rounded" %>
      <% if params[:search].present? %>
        <%= link_to "Clear", teams_path, class: "ml-2 p-2 bg-red-500 text-white rounded" %>
      <% end %>
    </div>
  <% end %>
</div>

<% if @no_results %>
  <div class="text-red-500 font-bold">No results found. Please try again.</div>
<% else %>
  <div class="overflow-x-auto">
    <table class="min-w-full w-full bg-white border-gray-200 shadow-md rounded-lg overflow-hidden">
      <thead class="bg-gray-200">
        <tr>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">City</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Statistics</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Classification</th>
        </tr>
      </thead>
      <tbody class="divide-y divide-gray-200">
        <% @teams.each do |team| %>
          <tr>
            <td class="px-6 py-4 whitespace-nowrap"><%= link_to team.name, team_path(team), class: "text-blue-500 hover:underline" %></td>
            <td class="px-6 py-4 whitespace-nowrap"><%= team.city %></td>
            <td class="px-6 py-4 whitespace-nowrap"><%= link_to "Statistics", statistics_team_path(team), class: "text-blue-500 hover:underline" %></td>
            <td class="px-6 py-4 whitespace-nowrap"><%= link_to "Classification", classification_team_path(team), class: "text-blue-500 hover:underline" %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
<% end %>
